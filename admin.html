<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article Editor</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
    <script src="https://cdn.ckeditor.com/4.16.2/standard/ckeditor.js"></script>
</head>
<body>
    <h1>Write an Article</h1>
    <textarea id="editor"></textarea>
    <button onclick="saveArticle()">Save Article</button>
    
    <script>
        // Firebase configuration
        const firebaseConfig = {
              apiKey: "AIzaSyDCVVXfW3oVqpWDiTLt-v3u6rqJxrc3CRk",
              authDomain: "amine-40b00.firebaseapp.com",
              databaseURL: "https://amine-40b00-default-rtdb.europe-west1.firebasedatabase.app",
              projectId: "amine-40b00",
              storageBucket: "amine-40b00.firebasestorage.app",
              messagingSenderId: "69045238594",
              appId: "1:69045238594:web:6f6a4f4c118dc570c526db"
        };
        
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Initialize CKEditor
        CKEDITOR.replace('editor');

        function saveArticle() {
            const content = CKEDITOR.instances.editor.getData();
            db.collection("articles").add({
                content: content,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(() => alert("Article saved successfully!"))
            .catch(error => console.error("Error saving article: ", error));
        }
    </script>
</body>
</html>
